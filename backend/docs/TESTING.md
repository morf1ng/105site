# Инструкция по тестированию POST /projects в Postman

## Настройка запроса

1. **Метод:** POST
2. **URL:** `http://127.0.0.1:8000/projects`
3. **Headers:** Postman автоматически добавит `Content-Type: multipart/form-data`

## Настройка Body

1. Перейдите на вкладку **Body**
2. Выберите тип **form-data** (не raw, не x-www-form-urlencoded)

## Заполнение полей

### Текстовые поля (Text):

| Key | Type | Value |
|-----|------|-------|
| `title` | Text | `Тестовый проект DagCode` |
| `url` | Text | `https://example.com/project` |
| `target` | Text | `Создать современный веб-сайт с адаптивным дизайном` |
| `task` | Text | `Разработать frontend и backend приложение` |

### JSON поля (Text):

| Key | Type | Value (полный JSON) |
|-----|------|---------------------|
| `about_company` | Text | `{"title": "ООО DagCode", "description": "IT компания, специализирующаяся на разработке веб-приложений"}` |
| `stages` | Text | `[{"title": "Этап 1: Анализ", "description": "Проведение интервью с клиентом"}, {"title": "Этап 2: Дизайн", "description": "Создание макетов интерфейса"}, {"title": "Этап 3: Разработка", "description": "Реализация функционала"}]` |
| `result` | Text | `{"title": "Результат проекта", "description": "Успешно создан полнофункциональный веб-сайт", "images": [{"type": "notebook", "img": "result1.png"}]}` |
| `progress` | Text | `[{"digit": 1, "text": "Начало проекта"}, {"digit": 2, "text": "Анализ и проектирование"}, {"digit": 3, "text": "Разработка"}]` |

### Файловые поля (File):

| Key | Type | Value |
|-----|------|-------|
| `preview_img` | File | Выберите файл изображения (опционально) |
| `tablet_img` | File | Изображение дизайна на планшете (опционально) |
| `smartphone_img` | File | Изображение дизайна на смартфоне (опционально) |
| `main_img` | File | Выберите файл изображения (опционально) |

### Массив файлов для этапов (File):

**ВАЖНО:** Добавьте несколько полей `stage_images` (нажмите "Add row" для каждого этапа):

| Key | Type | Value | Примечание |
|-----|------|-------|------------|
| `stage_images` | File | Выберите файл для первого этапа | Первый файл в списке |
| `stage_images` | File | Выберите файл для второго этапа | Второй файл в списке |
| `stage_images` | File | Выберите файл для третьего этапа | Третий файл в списке |

**Порядок файлов в `stage_images` должен соответствовать порядку этапов в `stages`!**

## Пример полного запроса

### Минимальный вариант (без файлов):

```
title: Тестовый проект
url: https://example.com
target: Цель проекта
task: Задача проекта
about_company: {"title": "ООО DagCode", "description": "Описание компании"}
stages: [{"title": "Этап 1", "description": "Описание этапа"}]
result: {"title": "Результат", "description": "Описание результата", "images": []}
progress: [{"digit": 1, "text": "Начало"}]
```

### Полный вариант (с файлами):

Добавьте все текстовые поля выше + файловые поля:
- `preview_img` - файл изображения
- `tablet_img` - файл изображения
- `smartphone_img` - файл изображения
- `main_img` - файл изображения
- `stage_images` - несколько файлов (по одному на каждый этап)

## Важные моменты

1. **Все JSON поля должны быть валидными JSON строками** (в кавычках)
2. **Массив `stage_images`** - добавьте столько полей `stage_images`, сколько у вас этапов
3. **Порядок файлов** в `stage_images` должен соответствовать порядку этапов в `stages`
4. **Файлы опциональны** - можно тестировать без них
5. **`about_company` и `result`** - обязательные поля с валидным JSON

## Проверка ответа

При успешном создании вы получите:
```json
{
  "id": 1
}
```

При ошибке вы получите описание проблемы с примером правильного формата.

## Альтернатива: используйте cURL из Swagger

1. Откройте `http://127.0.0.1:8000/docs`
2. Найдите `POST /projects`
3. Заполните форму в Swagger UI
4. Нажмите "Try it out"
5. Нажмите "Execute"
6. Скопируйте cURL команду (внизу страницы)
7. Используйте её в терминале или импортируйте в Postman

